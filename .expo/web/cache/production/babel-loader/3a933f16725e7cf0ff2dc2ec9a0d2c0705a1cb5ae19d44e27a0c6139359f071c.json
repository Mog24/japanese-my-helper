{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useState}from\"react\";import{Button,Input,Layout,Text}from\"@ui-kitten/components\";import*as SecureStore from\"expo-secure-store\";import{useFocusEffect}from\"@react-navigation/native\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var CreateScreen=function CreateScreen(_ref){var navigation=_ref.navigation;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),italianTranslation=_useState2[0],setItalianTranslation=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),kanji=_useState4[0],setKanji=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),pronunciation=_useState6[0],setPronunciation=_useState6[1];useFocusEffect(React.useCallback(function(){setItalianTranslation(\"\");setKanji(\"\");setPronunciation(\"\");},[]));var saveData=function(){var _ref2=_asyncToGenerator(function*(){if(italianTranslation!==\"\"&&kanji!==\"\"&&pronunciation!==\"\"){var parsedData={italianTranslation:italianTranslation,kanji:kanji,pronunciation:pronunciation,id:new Date().getTime()};try{var dataToStore=[parsedData];var value=yield SecureStore.getItemAsync(\"translation-data\");if(value)dataToStore=[].concat(_toConsumableArray(dataToStore),_toConsumableArray(JSON.parse(value)));yield SecureStore.setItemAsync(\"translation-data\",JSON.stringify(dataToStore));navigation.navigate(\"Home\");}catch(e){console.log(\"catch error\",e);}}});return function saveData(){return _ref2.apply(this,arguments);};}();console.log(\"CREATESCREEN\");return _jsxs(Layout,{style:{flex:1,padding:16,paddingTop:36},children:[_jsx(Text,{category:\"h1\",style:{marginBottom:16},children:\"Create\"}),_jsx(Input,{label:\"Traduzione italiano\",value:italianTranslation,onChangeText:function onChangeText(nextValue){return setItalianTranslation(nextValue);},style:{marginBottom:16}}),_jsx(Input,{label:\"Kanji\",value:kanji,onChangeText:function onChangeText(nextValue){return setKanji(nextValue);},style:{marginBottom:16}}),_jsx(Input,{label:\"Pronuncia\",value:pronunciation,onChangeText:function onChangeText(nextValue){return setPronunciation(nextValue);},style:{marginBottom:16}}),_jsx(Button,{style:{marginTop:16},onPress:saveData,children:\"Salva\"})]});};","map":{"version":3,"names":["React","useState","Button","Input","Layout","Text","SecureStore","useFocusEffect","jsx","_jsx","jsxs","_jsxs","CreateScreen","_ref","navigation","_useState","_useState2","_slicedToArray","italianTranslation","setItalianTranslation","_useState3","_useState4","kanji","setKanji","_useState5","_useState6","pronunciation","setPronunciation","useCallback","saveData","_ref2","_asyncToGenerator","parsedData","id","Date","getTime","dataToStore","value","getItemAsync","concat","_toConsumableArray","JSON","parse","setItemAsync","stringify","navigate","e","console","log","apply","arguments","style","flex","padding","paddingTop","children","category","marginBottom","label","onChangeText","nextValue","marginTop","onPress"],"sources":["C:/Users/micfi/Documents/Programming/japanese-my-helper/screens/CreateScreen.tsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Button, Input, Layout, Text } from \"@ui-kitten/components\";\r\nimport * as SecureStore from \"expo-secure-store\";\r\nimport { useFocusEffect } from \"@react-navigation/native\";\r\n\r\nexport const CreateScreen = ({ navigation }) => {\r\n  const [italianTranslation, setItalianTranslation] =\r\n    useState<TItalianTranslation>(\"\");\r\n  const [kanji, setKanji] = useState<TKanji>(\"\");\r\n  const [pronunciation, setPronunciation] = useState<TPronunciation>(\"\");\r\n\r\n  // Reset values on component mounting\r\n  useFocusEffect(\r\n    React.useCallback(() => {\r\n      setItalianTranslation(\"\");\r\n      setKanji(\"\")\r\n      setPronunciation(\"\")\r\n    }, [])\r\n  );\r\n\r\n  const saveData = async () => {\r\n    // console.log(\"saveData\", italianTranslation, kanji, pronunciation);\r\n    if (italianTranslation !== \"\" && kanji !== \"\" && pronunciation !== \"\") {\r\n      const parsedData: Data = {\r\n        italianTranslation,\r\n        kanji,\r\n        pronunciation,\r\n        id: new Date().getTime(), // this is actually unique\r\n      };\r\n\r\n      try {\r\n        let dataToStore = [parsedData];\r\n        // Append previous value\r\n        // IF check is needed for whenever the list is empty\r\n        const value = await SecureStore.getItemAsync(\"translation-data\");\r\n        if (value) dataToStore = [...dataToStore, ...JSON.parse(value)];\r\n        await SecureStore.setItemAsync(\r\n          \"translation-data\",\r\n          JSON.stringify(dataToStore)\r\n        );\r\n        navigation.navigate(\"Home\");\r\n      } catch (e) {\r\n        // saving error\r\n        console.log(\"catch error\", e);\r\n      }\r\n    }\r\n  };\r\n\r\n  console.log(\"CREATESCREEN\");\r\n\r\n  return (\r\n    <Layout style={{ flex: 1, padding: 16, paddingTop: 36 }}>\r\n      <Text category=\"h1\" style={{ marginBottom: 16 }}>\r\n        Create\r\n      </Text>\r\n\r\n      <Input\r\n        label=\"Traduzione italiano\"\r\n        value={italianTranslation}\r\n        onChangeText={(nextValue) => setItalianTranslation(nextValue)}\r\n        style={{ marginBottom: 16 }}\r\n      />\r\n\r\n      <Input\r\n        label=\"Kanji\"\r\n        value={kanji}\r\n        onChangeText={(nextValue) => setKanji(nextValue)}\r\n        style={{ marginBottom: 16 }}\r\n      />\r\n\r\n      <Input\r\n        label=\"Pronuncia\"\r\n        value={pronunciation}\r\n        onChangeText={(nextValue) => setPronunciation(nextValue)}\r\n        style={{ marginBottom: 16 }}\r\n      />\r\n\r\n      <Button style={{ marginTop: 16 }} onPress={saveData}>\r\n        Salva\r\n      </Button>\r\n    </Layout>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}