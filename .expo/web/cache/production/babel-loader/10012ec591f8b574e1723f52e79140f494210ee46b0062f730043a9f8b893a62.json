{"ast":null,"code":"\"use strict\";/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{\"default\":mod};};Object.defineProperty(exports,\"__esModule\",{value:true});exports.MeasureElement=void 0;var react_1=__importDefault(require(\"react\"));var react_native_1=require(\"react-native-web/dist/index\");var type_1=require(\"./type\");var MeasureElement=function MeasureElement(props){var ref=react_1.default.useRef();var bindToWindow=function bindToWindow(frame,window){if(frame.origin.x<window.size.width){return frame;}var boundFrame=new type_1.Frame(frame.origin.x-window.size.width,frame.origin.y,frame.size.width,frame.size.height);return bindToWindow(boundFrame,window);};var onUIManagerMeasure=function onUIManagerMeasure(x,y,w,h){if(!w&&!h){measureSelf();}else{var originY=props.shouldUseTopInsets?y+react_native_1.StatusBar.currentHeight||0:y;var frame=bindToWindow(new type_1.Frame(x,originY,w,h),type_1.Frame.window());props.onMeasure(frame);}};var measureSelf=function measureSelf(){var node=(0,react_native_1.findNodeHandle)(ref.current);react_native_1.UIManager.measureInWindow(node,onUIManagerMeasure);};if(props.force){measureSelf();}return react_1.default.cloneElement(props.children,{ref:ref,onLayout:measureSelf});};exports.MeasureElement=MeasureElement;exports.MeasureElement.defaultProps={shouldUseTopInsets:false};","map":{"version":3,"names":["react_1","__importDefault","require","react_native_1","type_1","MeasureElement","props","ref","default","useRef","bindToWindow","frame","window","origin","x","size","width","boundFrame","Frame","y","height","onUIManagerMeasure","w","h","measureSelf","originY","shouldUseTopInsets","StatusBar","currentHeight","onMeasure","node","findNodeHandle","current","UIManager","measureInWindow","force","cloneElement","children","onLayout","exports","defaultProps"],"sources":["../../../../../../src/components/devsupport/components/measure/measure.component.tsx"],"sourcesContent":[null],"mappings":"aAAA;;;;yMAMA,IAAAA,OAAA,CAAAC,eAAA,CAAAC,OAAA,WAA0B,IAAAC,cAAA,CAAAD,OAAA,gCAM1B,IAAAE,MAAA,CAAAF,OAAA,WAkCO,GAAM,CAAAG,cAAc,CAAkC,QAAhD,CAAAA,cAAcA,CAAmCC,KAAK,CAAsB,CAEvF,GAAM,CAAAC,GAAG,CAAGP,OAAA,CAAAQ,OAAK,CAACC,MAAM,EAAE,CAE1B,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,KAAY,CAAEC,MAAa,CAAW,CAC1D,GAAID,KAAK,CAACE,MAAM,CAACC,CAAC,CAAGF,MAAM,CAACG,IAAI,CAACC,KAAK,CAAE,CACtC,MAAO,CAAAL,KAAK,C,CAGd,GAAM,CAAAM,UAAU,CAAU,GAAI,CAAAb,MAAA,CAAAc,KAAK,CACjCP,KAAK,CAACE,MAAM,CAACC,CAAC,CAAGF,MAAM,CAACG,IAAI,CAACC,KAAK,CAClCL,KAAK,CAACE,MAAM,CAACM,CAAC,CACdR,KAAK,CAACI,IAAI,CAACC,KAAK,CAChBL,KAAK,CAACI,IAAI,CAACK,MAAM,CAClB,CAED,MAAO,CAAAV,YAAY,CAACO,UAAU,CAAEL,MAAM,CAAC,CACzC,CAAC,CAED,GAAM,CAAAS,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAIP,CAAS,CAAEK,CAAS,CAAEG,CAAS,CAAEC,CAAS,CAAU,CAC9E,GAAI,CAACD,CAAC,EAAI,CAACC,CAAC,CAAE,CACZC,WAAW,EAAE,C,CACd,IAAM,CACL,GAAM,CAAAC,OAAO,CAAGnB,KAAK,CAACoB,kBAAkB,CAAGP,CAAC,CAAGhB,cAAA,CAAAwB,SAAS,CAACC,aAAa,EAAI,CAAC,CAAGT,CAAC,CAC/E,GAAM,CAAAR,KAAK,CAAUD,YAAY,CAAC,GAAI,CAAAN,MAAA,CAAAc,KAAK,CAACJ,CAAC,CAAEW,OAAO,CAAEH,CAAC,CAAEC,CAAC,CAAC,CAAEnB,MAAA,CAAAc,KAAK,CAACN,MAAM,EAAE,CAAC,CAC9EN,KAAK,CAACuB,SAAS,CAAClB,KAAK,CAAC,C,CAE1B,CAAC,CAED,GAAM,CAAAa,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,CAAc,CAC7B,GAAM,CAAAM,IAAI,CAAW,GAAA3B,cAAA,CAAA4B,cAAc,EAACxB,GAAG,CAACyB,OAAO,CAAC,CAChD7B,cAAA,CAAA8B,SAAS,CAACC,eAAe,CAACJ,IAAI,CAAET,kBAAkB,CAAC,CACrD,CAAC,CAED,GAAIf,KAAK,CAAC6B,KAAK,CAAE,CACfX,WAAW,EAAE,C,CAGf,MAAO,CAAAxB,OAAA,CAAAQ,OAAK,CAAC4B,YAAY,CAAC9B,KAAK,CAAC+B,QAAQ,CAAE,CAAE9B,GAAG,CAAHA,GAAG,CAAE+B,QAAQ,CAAEd,WAAW,CAAE,CAAC,CAC3E,CAAC,CAvCYe,OAAA,CAAAlC,cAAc,CAAAA,cAAA,CAyC3BkC,OAAA,CAAAlC,cAAc,CAACmC,YAAY,CAAG,CAC5Bd,kBAAkB,CAAE,K,CACrB"},"metadata":{},"sourceType":"script","externalDependencies":[]}