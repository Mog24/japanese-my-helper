{"ast":null,"code":"\"use strict\";var _toConsumableArray=require(\"@babel/runtime/helpers/toConsumableArray\");var _defineProperty=require(\"@babel/runtime/helpers/defineProperty\");var _createClass=require(\"@babel/runtime/helpers/createClass\");var _classCallCheck=require(\"@babel/runtime/helpers/classCallCheck\");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{\"default\":mod};};Object.defineProperty(exports,\"__esModule\",{value:true});exports.SelectService=void 0;var react_1=__importDefault(require(\"react\"));var devsupport_1=require(\"../../devsupport\");var SEPARATOR=', ';var SelectService=_createClass(function SelectService(){var _this=this;_classCallCheck(this,SelectService);this.selectItem=function(multiSelect,descriptor,selected){if(multiSelect){return _this.createMultiSelectIndices(descriptor,selected);}return descriptor.index;};this.toStringSelected=function(selected){if(!Array.isArray(selected)){return'';}var options=selected.map(function(index){return`Option ${index.toString()}`;});return options.join(SEPARATOR);};this.isSelected=function(descriptor,selected){if(descriptor.multiSelect&&_this.isGroup(descriptor)){return _this.containsSomeFromGroup(descriptor.index,selected);}return _this.contains(descriptor.index,selected);};this.isDisabled=function(descriptor){return!descriptor.multiSelect&&_this.isGroup(descriptor);};this.createDescriptorForElement=function(element,multiSelect,index){var groupIndices=react_1.default.Children.map(element.props.children,function(child,row){return new devsupport_1.IndexPath(row,index);});return{multiSelect:multiSelect,groupIndices:groupIndices,index:new devsupport_1.IndexPath(index)};};this.createDescriptorForNestedElement=function(element,descriptor,index){return _objectSpread(_objectSpread({},descriptor),{},{index:new devsupport_1.IndexPath(index,descriptor.index.row),groupIndices:[]});};this.createMultiSelectIndices=function(descriptor,selected){var isIndexSelected=_this.isSelected(descriptor,selected);return!isIndexSelected?_this.addIndex(descriptor,selected):_this.removeIndex(descriptor,selected);};this.isGroup=function(descriptor){return descriptor.groupIndices&&descriptor.groupIndices.length>0;};this.createGroupIndices=function(descriptor){return _this.isGroup(descriptor)?descriptor.groupIndices:[descriptor.index];};this.addIndex=function(descriptor,selected){return[].concat(_toConsumableArray(selected),_toConsumableArray(_this.createGroupIndices(descriptor)));};this.removeIndex=function(descriptor,selected){var groupIndices=_this.createGroupIndices(descriptor);return selected.filter(function(selectedIndex){return!_this.contains(selectedIndex,groupIndices);});};this.contains=function(index,selected){return selected.some(function(selectedIndex){return selectedIndex.equals(index);});};this.containsSomeFromGroup=function(index,selected){return selected.some(function(selectedIndex){return selectedIndex.section===index.row;});};});exports.SelectService=SelectService;","map":{"version":3,"names":["react_1","__importDefault","require","devsupport_1","SEPARATOR","SelectService","_createClass","_this","_classCallCheck","selectItem","multiSelect","descriptor","selected","createMultiSelectIndices","index","toStringSelected","Array","isArray","options","map","toString","join","isSelected","isGroup","containsSomeFromGroup","contains","isDisabled","createDescriptorForElement","element","groupIndices","default","Children","props","children","child","row","IndexPath","createDescriptorForNestedElement","_objectSpread","isIndexSelected","addIndex","removeIndex","length","createGroupIndices","concat","_toConsumableArray","filter","selectedIndex","some","equals","section","exports"],"sources":["../../../../../src/components/ui/select/select.service.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}