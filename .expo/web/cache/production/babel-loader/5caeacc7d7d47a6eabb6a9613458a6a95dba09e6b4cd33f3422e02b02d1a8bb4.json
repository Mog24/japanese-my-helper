{"ast":null,"code":"\"use strict\";/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */var _classCallCheck=require(\"@babel/runtime/helpers/classCallCheck\");var _createClass=require(\"@babel/runtime/helpers/createClass\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.PopoverPlacementService=void 0;var type_1=require(\"./type\");var PLACEMENT_FAMILIES=[type_1.PopoverPlacements.BOTTOM.rawValue,type_1.PopoverPlacements.TOP.rawValue,type_1.PopoverPlacements.LEFT.rawValue,type_1.PopoverPlacements.RIGHT.rawValue,type_1.PopoverPlacements.INNER.rawValue];var PopoverPlacementService=function(){function PopoverPlacementService(){_classCallCheck(this,PopoverPlacementService);}_createClass(PopoverPlacementService,[{key:\"find\",value:function find(preferredValue,options){var placement=this.findRecursive(preferredValue,[].concat(PLACEMENT_FAMILIES),options);return placement||preferredValue;}},{key:\"findRecursive\",value:function findRecursive(placement,families,options){var oneOfCurrentFamily=this.findFromFamily(placement,options);if(oneOfCurrentFamily){return oneOfCurrentFamily;}var oneOfReversedFamily=this.findFromFamily(placement.reverse(),options);if(oneOfReversedFamily){return oneOfReversedFamily;}delete families[families.indexOf(placement.parent().rawValue)];delete families[families.indexOf(placement.reverse().parent().rawValue)];var firstTruthy=families.filter(Boolean)[0];if(firstTruthy){var nextPlacement=type_1.PopoverPlacements.parse(firstTruthy);return this.findRecursive(nextPlacement,families,options);}return null;}},{key:\"findFromFamily\",value:function findFromFamily(placement,options){var preferredFrame=placement.frame(options);if(placement.fits(preferredFrame,options.bounds)){return placement;}return placement.family().find(function(familyValue){var familyFrame=familyValue.frame(options);return familyValue.fits(familyFrame,options.bounds);});}}]);return PopoverPlacementService;}();exports.PopoverPlacementService=PopoverPlacementService;","map":{"version":3,"names":["_classCallCheck","require","_createClass","type_1","PLACEMENT_FAMILIES","PopoverPlacements","BOTTOM","rawValue","TOP","LEFT","RIGHT","INNER","PopoverPlacementService","key","value","find","preferredValue","options","placement","findRecursive","concat","families","oneOfCurrentFamily","findFromFamily","oneOfReversedFamily","reverse","indexOf","parent","firstTruthy","filter","Boolean","nextPlacement","parse","preferredFrame","frame","fits","bounds","family","familyValue","familyFrame","exports"],"sources":["../../../../../src/components/ui/popover/placement.service.ts"],"sourcesContent":[null],"mappings":"aAAA;;;;GAAA,IAAAA,eAAA,CAAAC,OAAA,8CAAAC,YAAA,CAAAD,OAAA,uC,gGAMA,IAAAE,MAAA,CAAAF,OAAA,WAOA,GAAM,CAAAG,kBAAkB,CAAa,CACnCD,MAAA,CAAAE,iBAAiB,CAACC,MAAM,CAACC,QAAQ,CACjCJ,MAAA,CAAAE,iBAAiB,CAACG,GAAG,CAACD,QAAQ,CAC9BJ,MAAA,CAAAE,iBAAiB,CAACI,IAAI,CAACF,QAAQ,CAC/BJ,MAAA,CAAAE,iBAAiB,CAACK,KAAK,CAACH,QAAQ,CAChCJ,MAAA,CAAAE,iBAAiB,CAACM,KAAK,CAACJ,QAAQ,CACjC,CAAC,GAEW,CAAAK,uBAAuB,qBAAAA,wBAAA,EAAAZ,eAAA,MAAAY,uBAAA,GAAAV,YAAA,CAAAU,uBAAA,GAAAC,GAAA,QAAAC,KAAA,CAE3B,SAAAC,KAAKC,cAAgC,CAAEC,OAAyB,EACrE,GAAM,CAAAC,SAAS,CAAqB,IAAI,CAACC,aAAa,CAACH,cAAc,IAAAI,MAAA,CAAMhB,kBAAkB,EAAGa,OAAO,CAAC,CAExG,MAAO,CAAAC,SAAS,EAAIF,cAAc,CACpC,CAAC,GAAAH,GAAA,iBAAAC,KAAA,CAEO,SAAAK,cAAcD,SAA2B,CAAEG,QAAkB,CAAEJ,OAAyB,EAC9F,GAAM,CAAAK,kBAAkB,CAAqB,IAAI,CAACC,cAAc,CAACL,SAAS,CAAED,OAAO,CAAC,CAEpF,GAAIK,kBAAkB,CAAE,CACtB,MAAO,CAAAA,kBAAkB,C,CAG3B,GAAM,CAAAE,mBAAmB,CAAqB,IAAI,CAACD,cAAc,CAACL,SAAS,CAACO,OAAO,EAAE,CAAER,OAAO,CAAC,CAE/F,GAAIO,mBAAmB,CAAE,CACvB,MAAO,CAAAA,mBAAmB,C,CAG5B,MAAO,CAAAH,QAAQ,CAACA,QAAQ,CAACK,OAAO,CAACR,SAAS,CAACS,MAAM,EAAE,CAACpB,QAAQ,CAAC,CAAC,CAC9D,MAAO,CAAAc,QAAQ,CAACA,QAAQ,CAACK,OAAO,CAACR,SAAS,CAACO,OAAO,EAAE,CAACE,MAAM,EAAE,CAACpB,QAAQ,CAAC,CAAC,CAExE,GAAM,CAAAqB,WAAW,CAAWP,QAAQ,CAACQ,MAAM,CAACC,OAAO,CAAC,CAAC,CAAC,CAAC,CAEvD,GAAIF,WAAW,CAAE,CACf,GAAM,CAAAG,aAAa,CAAqB5B,MAAA,CAAAE,iBAAiB,CAAC2B,KAAK,CAACJ,WAAW,CAAC,CAE5E,MAAO,KAAI,CAACT,aAAa,CAACY,aAAa,CAAEV,QAAQ,CAAEJ,OAAO,CAAC,C,CAG7D,MAAO,KAAI,CACb,CAAC,GAAAJ,GAAA,kBAAAC,KAAA,CAEO,SAAAS,eAAeL,SAA2B,CAAED,OAAyB,EAC3E,GAAM,CAAAgB,cAAc,CAAUf,SAAS,CAACgB,KAAK,CAACjB,OAAO,CAAC,CAEtD,GAAIC,SAAS,CAACiB,IAAI,CAACF,cAAc,CAAEhB,OAAO,CAACmB,MAAM,CAAC,CAAE,CAClD,MAAO,CAAAlB,SAAS,C,CAGlB,MAAO,CAAAA,SAAS,CAACmB,MAAM,EAAE,CAACtB,IAAI,CAAC,SAACuB,WAA6B,CAAa,CACxE,GAAM,CAAAC,WAAW,CAAGD,WAAW,CAACJ,KAAK,CAACjB,OAAO,CAAC,CAE9C,MAAO,CAAAqB,WAAW,CAACH,IAAI,CAACI,WAAW,CAAEtB,OAAO,CAACmB,MAAM,CAAC,CACtD,CAAC,CAAC,CACJ,CAAC,WAAAxB,uBAAA,KA/CH4B,OAAA,CAAA5B,uBAAA,CAAAA,uBAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}